"use strict";var jq_bx=jQuery.noConflict();function AplrPopUp(a){var e=document.querySelector(".aplr-embed-holder");1==a?(e.style.display="block",setTimeout((function(){e.classList.add("aplr-embed-visible")}),10)):(e.classList.remove("aplr-embed-visible"),setTimeout((function(){e.style.display="none"}),100))}function aplrClickToCopy(){document.querySelector("#aplr-embed-code").select(),document.execCommand("copy")}jq_bx((function(a){var e={};a((function(){e.aplrLicenseActions(),e.aplrImageUpload(),e.aplrRemoveImage(),e.aplrColorPicker(),e.aplrToggleBtn(),e.aplrRepeaterField(),e.alba_field_slider(),e.aplr_nav_demo_builder(),e.aplr_nav_options(),e.aplr_demo_tabs()})),e.aplrLicenseActions=function(){return a(".aplr_license_actions").on("click",(function(e){e.preventDefault();var t=a(this),r=t.attr("data-action"),l=t.closest(".aplr_form_inner"),i=l.find(".aplr_input_code");if(i.attr("readonly",1),"deactivate"===r&&!confirm(aplrAjax.i18n.confirm))return!1;t.removeClass("button-primary aplr-button-red").attr("disabled",0).addClass("updating-message"),l.find(".aplr-activation-label").html("Loading ..."),a.ajax({type:"POST",url:aplrAjax.ajaxurl,data:{action:"aplr_"+r+"_license",license:i.val()},success:function(a){if(a.success){var e="activate"===r?{class:"activated",action:"deactivate",text:"Activate"}:{class:"not-activated",action:"activate",text:"Deactivate"};l.removeClass("aplr_is_not_activated aplr_is_activated").addClass("aplr_is_"+e.class),""!==a.data.url&&(window.location.href=a.data.url)}l.find(".aplr-activation-label").html('<div class="aplr-activatedmsg">'+a.data.message+"</div>"),setTimeout((()=>{i.attr("readonly",!1),t.attr("disabled",!1).removeClass("updating-message").addClass("button-primary")}),1e3)},error:function(a){i.attr("readonly",!1),t.attr("disabled",!1).removeClass("updating-message").addClass("button-primary")}})})),!1},e.aplrImageUpload=function(){return a(".aplr-upload-image-button").on("click",(function(){var e=a(this).closest(".aplyer-upload-inner"),t=e.find("input.aplr-image-src"),r=e.find(".aplr-image-preview img"),l=wp.media({title:"Upload an image",library:{type:"image"},button:{text:"Use this image"},multiple:!1}).on("select",(function(){var i=l.state().get("selection").first().toJSON();a(t).attr("value",i.url).trigger("change"),a(e).addClass("active"),a(a(t).data("target")).attr("src",i.url),a(r).attr("src",i.url)})).open()})),!1},e.aplrRemoveImage=function(){return a(".aplr-remove-image-button").on("click",(function(){var e=a(this).closest(".aplyer-upload-inner");e.find(".aplr-image-src").attr("value","").trigger("change"),e.removeClass("active"),e.find(".aplr-image-preview img").attr("src","")})),!1},e.aplrColorPicker=function(){a(".aplrColorSelector").each((function(){var e=a(this),t=e.attr("data-palette");if("false"==t||0==t)var r=!1;else if("true"==t||1==t)r=!0;else r=e.attr("data-palette").split(",");e.wpColorPicker({clear:function(a,e){},change:function(a,t){e.parents(".wp-picker-container:first").find(".transparency").css("backgroundColor",t.color.toString("no-alpha"))},palettes:r})}))},e.aplrToggleBtn=function(){return a(".aplr-toggle-option").each((function(){var e=a(this),t=(e.attr("type"),e.data("aplr-toggle"));t=a(t).hide(),"checkbox"&&(e.is(":checked")&&t.slideDown(),e.change((function(){a(this).is(":checked")?t.slideDown():t.slideUp("fast")})))})),!1},e.aplrRepeaterField=function(){a(".aplr-repeater-wrap #add-row").on("click",(function(e){e.preventDefault();var t=a(".aplr-repeater-table .empty-row.screen-reader-text").clone(!0);t.find(':input[name!="_pseudo"]').each((function(){this.name=this.name.replace("___","")})),t.removeClass("empty-row screen-reader-text"),t.insertBefore(".aplr-repeater-table tbody>tr:last")})),a(".aplr-remove-row").on("click",(function(e){e.preventDefault(),a(this).parents("tr").remove()}))},e.alba_field_slider=function(){a(".aplyer-field-slider").each((function(){var e=a(this),t=e.find("input"),r=e.find(".alba-slider-ui"),l=t.data(),i=t.val()||0;r.hasClass("ui-slider")&&r.empty(),r.slider({range:"min",value:i,min:l.min||0,max:l.max||100,step:l.step||1,slide:function(a,e){t.val(e.value).trigger("change")}}),t.on("keyup change",(function(){r.slider("value",t.val())}))}))},e.aplr_nav_options=function(){return a(".aplr-admin-menu").each((function(){var e=a(this),t=a(".aplr-admin-sections .aplr-section"),r=e.find("a"),l="";t.hide(),"undefined"!=typeof localStorage&&(l=localStorage.getItem("aplrmenu")),""!=l&&a('[data-section-id="'+l+'"]').length?(a('[data-tab-id="'+l+'"]').closest(".aplr-menu-item").addClass("aplrtab-expanded").siblings().removeClass("aplrtab-expanded"),a('[data-section-id="'+l+'"]').fadeIn().removeClass("hidden").siblings().addClass("hidden")):(a(".aplr-menu-item li:first").addClass("aplrtab-expanded").siblings().removeClass("aplrtab-expanded"),a(".aplr-admin-sections .aplr-section:first").fadeIn().removeClass("hidden").siblings().addClass("hidden")),r.click((function(e){e.preventDefault(),a(this).closest(".aplr-menu-item").blur().addClass("aplrtab-expanded").siblings().removeClass("aplrtab-expanded");var r=a(this).attr("href").replace("#aplrtab=","");"undefined"!=typeof localStorage&&localStorage.setItem("aplrmenu",r),t.hide(),a('[data-section-id="'+r+'"]').fadeIn().removeClass("hidden").siblings().addClass("hidden")}))}))},e.aplr_demo_tabs=function(){jQuery("body").on("click",".aplr-editor-tabs-nav .aplrtab-item-link",(function(a){a.preventDefault(),jQuery(this).addClass("aplr-active").closest(".aplr-menu-item").addClass("aplrtab-expanded").siblings().removeClass("aplrtab-expanded").find(".aplrtab-item-link").removeClass("aplr-active"),jQuery(".aplr-editor-tabs-section").addClass("hidden"),jQuery(jQuery(this).data("aplrtab-id")).removeClass("hidden")}))},e.aplr_change_demo_class=function(a,e){jQuery(".aplr-player-wrapper").removeClass((function(e,t){return(t.match(new RegExp("\\S*"+a+"-\\S*","g"))||[]).join(" ")})).addClass(a+"-"+e)},e.aplr_on_change=function(a,t){jQuery(a).each((function(){var a=jQuery(this).val();e.aplr_change_demo_class(t,a)}))},e.aplr_radio_change=function(a,t){jQuery(a).change((function(){var a="";jQuery(this).is(":checked")&&(a=jQuery(this).val()),e.aplr_change_demo_class(t,a)}))},e.aplr_nav_demo_builder=function(){jQuery("#albaplayer-logo-src-option .aplyer-upload-inner").hasClass("active")&&jQuery("#aplr-logo-setup-fields_options").show(),a(".ea-editor-responsive-button").on("click",(function(){a(this).parent().toggleClass("ea-editor-expanded")})),e.aplr_radio_change('[name="albaplayer[nav_type]"]',"aplr-nave"),e.aplr_radio_change('[name="albaplayer[nav_btn][size]"]',"nav_btn-size"),jQuery(".aplr-editor-form .wp-color-picker").wpColorPicker({change:function(a,e){var t=a.target,r=e.color.toString(),l=jQuery(t).data("target"),i=jQuery(t).data("scss");jQuery(l).css(i,r)}}),jQuery("#albaplayer-notification-messeg-option textarea").bind("input propertychange",(function(){this.value.length&&jQuery("#aplr-notic-message p").text(this.value)})),jQuery(".aplr-admin-sections").on("change paste keyup cut select","input, select",(function(){jQuery(".aplr-site-name").text(jQuery("#albaplayer-sitename-option input").val()),jQuery("#aplr-notic-message strong").text(jQuery("#albaplayer-notification-title-option input").val()),jQuery("#aplr-notic-message a").text(jQuery("#albaplayer-notification-btn_title-option input").val());var a=jQuery("#albaplayer-logo-src-option input.aplr-image-src").val();a?jQuery("#aplr-logo-setup-fields_options").show():jQuery("#aplr-logo-setup-fields_options").hide(),jQuery(".ApPlayerLogo img").attr("src",a);var t=jQuery("#albaplayer-logo-width-option input").val();jQuery(".ApPlayerLogo").attr("style","--logo-wd:"+t+"%");var r=jQuery("#albaplayer-poster-option input.aplr-image-src").val();jQuery(".aplr-player-content #player").attr("poster",r);var l=jQuery("#albaplayer-nav_btn-radius_count-option input").val();if(jQuery(".aplr-player-wrapper").attr("style","--aplr-rounded:"+l+"px"),jQuery(this).is(":radio")||jQuery(this).is(":checkbox")){var i=jQuery(this),n="",s=i.attr("name");s=(s=(s=s.replace("albaplayer[","")).replace("][","-")).replace("]",""),i.is(":checked")&&(n=jQuery(this).val()),e.aplr_change_demo_class(s,n)}jQuery(this).find("option:selected").each((function(){var a=jQuery(this).val(),t=jQuery(this).parent().attr("name");t=(t=(t=t.replace("albaplayer[","")).replace("][","-")).replace("]",""),e.aplr_change_demo_class(t,a)}))}))}}));